# RL-Enhanced Anomaly-Based IDS Configuration
# Production-ready settings

simulation:
  network:
    num_routers: 3
    num_switches: 6
    num_servers: 8
    num_workstations: 20
    num_iot_devices: 5
  traffic:
    benign_rate: 100          # packets/sec baseline
    protocol_distribution:
      tcp: 0.65
      udp: 0.25
      icmp: 0.05
      other: 0.05
    diurnal_variation: true
    concept_drift_rate: 0.001  # drift magnitude per episode
  attacks:
    min_intensity: 0.1
    max_intensity: 1.0
    attack_probability: 0.3    # probability of attack per episode step
    types:
      - port_scan
      - ddos_syn_flood
      - ddos_udp_flood
      - c2_beaconing
      - data_exfiltration
      - lateral_movement
      - dns_tunneling
  episode:
    max_steps: 200
    time_step_seconds: 60

ids:
  baseline:
    algorithm: isolation_forest
    contamination: 0.05
    n_estimators: 100
    initial_threshold: 0.5
    min_threshold: 0.1
    max_threshold: 0.95
  features:
    window_size: 10
    feature_list:
      - traffic_volume
      - packet_rate
      - avg_packet_size
      - tcp_ratio
      - udp_ratio
      - icmp_ratio
      - unique_src_ips
      - unique_dst_ips
      - unique_dst_ports
      - failed_connections
      - avg_flow_duration
      - entropy_src_ip
      - entropy_dst_port
      - dns_query_rate
      - outbound_data_ratio

rl_agent:
  algorithm: DQN            # DQN or PPO
  learning_rate: 0.0003
  gamma: 0.99               # discount factor
  epsilon_start: 1.0
  epsilon_end: 0.05
  epsilon_decay: 0.995
  batch_size: 64
  buffer_size: 100000
  target_update_freq: 1000
  training_episodes: 500
  evaluation_episodes: 50
  network_architecture:
    - 256
    - 256
    - 128
  checkpoint_interval: 50
  model_save_path: models/

reward:
  true_positive: 10.0
  false_negative: -15.0
  false_positive: -3.0
  true_negative: 0.1
  stability_bonus: 0.5
  excessive_change_penalty: -1.0
  concept_drift_adaptation: 5.0

evaluation:
  metrics:
    - tpr
    - fpr
    - precision
    - recall
    - f1_score
    - accuracy
    - time_to_detect
  comparison_baseline: static

dashboard:
  host: 0.0.0.0
  port: 8050
  debug: false
  log_level: info

logging:
  level: INFO
  format: json
  log_file: logs/ids.log
  max_bytes: 10485760       # 10MB
  backup_count: 5
